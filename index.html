<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=Edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Health Tracker</title>
		<!-- <link rel="stylesheet" href="css/bootstrap.css"> -->
	</head>
	<body>
		<!-- Create a place to put the Nutritionix query results in -->
		<div id="items"></div>
		<!-- jQuery Google CDN -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<!-- jQuery local fallback -->
		<script src="js/jquery-3.1.1.min.js"></script>
		<script src="js/lib/underscore-min.js"></script>
		<script src="js/lib/backbone-min.js"></script>
		<script>
			$(document).ready(function() {
				function processData(response) {
					console.log(response);
					console.log(response.hits[0].fields);
					console.log('Brand name: ' + response.hits[0].fields.brand_name);
					console.log('Item name: ' + response.hits[0].fields.item_name);
					console.log('Calories: ' + response.hits[0].fields.nf_calories);
					console.log('Serving size quantity: ' + response.hits[0].fields.nf_serving_size_qty);

					var foodItem = 'Brand name: ' + response.hits[0].fields.brand_name + ' ; ' +
						'Item name: ' + response.hits[0].fields.item_name + ' ; ' +
						'Calories: ' + response.hits[0].fields.nf_calories + ' ; ' +
						'Serving quantity: ' + response.hits[0].fields.nf_serving_size_qty;
					$('#items').append(foodItem);
				}

				retrieveValues();

				function retrieveValues() {
					var queryUrl = 'https://api.nutritionix.com/v1_1/search/mcdonalds?results=0:20&fields=item_name,brand_name,item_id,nf_calories&appId=497ef47e&appKey=790e824a496fcc65e9fa3132a5d2d8fb';
					$.ajax({
						url: queryUrl,
						type: 'get',
						dataType: 'json',
						success: processData
					});
				}
			});
		</script>
	</body>
</html>